define(["jquery","core/ajax","core/notification"],function(a,b,c){return{setButtions:function(){a(".katest-skill-button").click(function(){a(this).addClass("katest-disabled")})},submitTest:function(){a("#katest-submit-button").click(function(){var b=Math.floor(Date.now()/1e3);a("input[name='timesubmitted']").val(b),a("#katest-get-results-form").submit()})},deleteAttempt:function(){a(".katest-delete-attempt").click(function(){var d=a(this),e=d.data("userid"),f=d.data("katestid"),g=d.data("attemptid"),h=b.call([{methodname:"mod_katest_delete_attempt",args:{userid:e,katestid:f,attemptid:g}}]);h[0].done(function(){var b=a('<div class="katest-attempt-delete-message">Attempt was deleted.</div>');a("#katest-attempt-"+g).replaceWith(b),setTimeout(function(){b.fadeOut(400)},500)}).fail(c.exception)})}}});